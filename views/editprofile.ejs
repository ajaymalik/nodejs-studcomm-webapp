<%- include('partials/header'); -%>

<h1>Edit My Profile</h1>

<form action="/editprofile" method="post">
    <div class="form-group">
        <label for="firstname">First Name</label>
        <input type="text" name="firstname" class="form-control" value="<%= firstname %>" placeholder="Firstname" required>
    </div>
    <div class="form-group">
        <label for="familyname">Family Name</label>
        <input type="text" name="familyname" class="form-control" value="<%= familyname %>" placeholder="Familyname" required>
    </div>
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" name="email" class="form-control" value="<%= email %>" placeholder="Email is mandatory" required>
    </div>
    <% if (username === 'undefined') { %>
      <div class="form-group">
          <label for="password">Password</label>
          <input type="password" name="password" class="form-control" value="" placeholder="Password is mandatory" required>
      </div>
    <% } %>
    <div class="form-group">
        <label for="role">Role</label>
        <div class="form-check" onclick="hideDepartment()">
          <input class="form-check-input" type="radio" name="role" value="Student" id="Student" <% if (role === 'Student') { %>checked<% } %> >
          <label class="form-check-label" for="Student">Student</label>
        </div>
        <div class="form-check" onclick="showDepartment()">
          <input class="form-check-input" type="radio" name="role" value="Staff" id="Staff" <% if (role === 'Staff') { %>checked<% } %> >
          <label class="form-check-label" for="Staff">Staff</label>
        </div>
      </div>
      <% if (role === 'Staff') { %>
        <div class="form-group" >
      <% } else { %>
        <div class="form-group" style="display: none;">
      <% } %>
        <label for="department">Department</label>
        <select class="form-select" id="department" name="department" required aria-label="Select appropriate department">
            <option value="Admissions"  <% if (department === 'Admissions') { %>selected<% } %> >Admissions</option>
            <option value="Accounts" <% if (department === 'Accounts') { %>selected<% } %> >Accounts</option>
            <option value="Library" <% if (department === 'Library') { %>selected<% } %> >Library</option>
            <option value="Academics" <% if (department === 'Academics') { %>selected<% } %> >Academics</option>
            <option value="Recreation" <% if (department === 'Recreation') { %>selected<% } %> >Recreation</option>
            <option value="Sports" <% if (department === 'Sports') { %>selected<% } %> >Sports</option>
            <option value="IT" <% if (department === 'IT') { %>selected<% } %> >IT</option>
            <option value="Alumni/Corporate" <% if (department === 'Alumni/Corporate') { %>selected<% } %> >Alumni/Corporate</option>
        </select>
      </div>
    <button type="submit" name="button" class="btn btn-primary">Save</button>
</form>

<%- include('partials/footer'); -%>
